@import 'theme';

.progress-bar {
	display: block;
	position: relative;
	height: 1em;
	background: $color-default-highlight;
	border-radius: 0.5em;
	margin: 0.5em 0;
	box-shadow: 0 0.25em 0.5em rgba(0,0,0,0.25), 0 0.1em 0.25em rgba(0,0,0,0.33) inset;

	&.indeterminate {
		background-color: $color-primary-shadow;
		background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAIAAAD8GO2jAAAApklEQVRIibXVuw2AMAxF0Qdswgq0lMzClKyQFZiDDppIESgk/jy7ts6VKw/LfkMzZzpU+2OoPi+bImDQIb/ApksDZl0U8Oj9gFPvBPx6K0DRfwMsvR4g6pUAV/8G6PorEKGXQJCeA3E6gOnCGqdD+w+0+pkORcCgQ36BTZcGzLoo4NH7AafeCfj1VoCi/wZYej1A1CsBrv4N0PVXIEIvgSA9B+J0AA+HrGANy8ZlFgAAAABJRU5ErkJggg==);
		background-repeat: repeat;
		background-position: 0 0;
		animation: parallax-background 10s linear infinite;
	}

	& .progress-bar-fill {
		display: block;
		width: 0;
		height: 100%;
		background-color: $color-primary;
		border-radius: 0.5em;
		transition: width 0.3s ease;
	}

	&.activity::after {
		display: block;
		content: ' ';
		position: absolute;
		top: 0; left: 0; right: 0; bottom: 0;
		width: 100%;
		height: 100%;
		border-radius: 0.5em;
		background-color: $color-primary-highlight;
		opacity: 0;
		animation: flash 0.5s ease;
	}
}

@keyframes parallax-background {
	0% {
		background-position: 0px 0px;
	}
	100% {
		background-position: 100% 0px;
	}
}

@keyframes flash {
	0% {
		opacity: 0;
	}
	50% {
		opacity: 0.5;
	}
	100% {
		opacity: 0;
	}
}